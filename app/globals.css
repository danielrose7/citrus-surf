@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 45 100% 97%;
    --foreground: 200 50% 15%;
    --card: 45 100% 97%;
    --card-foreground: 200 50% 15%;
    --popover: 45 100% 97%;
    --popover-foreground: 200 50% 15%;
    --primary: 25 95% 53%;
    --primary-foreground: 45 100% 97%;
    --secondary: 180 25% 90%;
    --secondary-foreground: 200 50% 15%;
    --muted: 180 25% 90%;
    --muted-foreground: 200 25% 45%;
    --accent: 60 90% 85%;
    --accent-foreground: 200 50% 15%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 45 100% 97%;
    --border: 180 30% 85%;
    --input: 180 30% 85%;
    --ring: 25 95% 53%;
    --radius: 0.5rem;
  }

  .dark {
    --background: 200 50% 8%;
    --foreground: 45 100% 95%;
    --card: 200 50% 8%;
    --card-foreground: 45 100% 95%;
    --popover: 200 50% 8%;
    --popover-foreground: 45 100% 95%;
    --primary: 180 85% 60%;
    --primary-foreground: 200 50% 8%;
    --secondary: 200 30% 15%;
    --secondary-foreground: 45 100% 95%;
    --muted: 200 30% 15%;
    --muted-foreground: 180 20% 65%;
    --accent: 25 80% 25%;
    --accent-foreground: 45 100% 95%;
    --destructive: 0 75% 55%;
    --destructive-foreground: 45 100% 95%;
    --border: 200 30% 20%;
    --input: 200 30% 20%;
    --ring: 180 85% 60%;
  }
}

@layer base {
  * {
    @apply border-border;
    transition-property:
      color, background-color, border-color, text-decoration-color, fill, stroke;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transition-duration: 150ms;
  }

  body {
    @apply bg-background text-foreground;
    font-feature-settings:
      "rlig" 1,
      "calt" 1;
  }

  /* Ensure proper theme transitions */
  html {
    transition: color-scheme 0.2s ease-in-out;
  }

  html.light {
    color-scheme: light;
  }

  html.dark {
    color-scheme: dark;
  }
}

/* Enhanced scrollbar theming */
@layer utilities {
  .scrollbar-thin {
    scrollbar-width: thin;
  }

  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    @apply bg-muted;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    @apply bg-muted-foreground/30 rounded-full;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    @apply bg-muted-foreground/50;
  }

  /* Theme-specific utilities */
  .theme-transition {
    transition: all 0.2s ease-in-out;
  }

  /* Prose dark theme overrides */
  .dark .prose {
    --tw-prose-bold: #d1d5db;
  }
}

/* Surf heading hover animation */
@keyframes rideWaves {
  0% {
    transform: rotate(0deg) translateY(8px);
  }
  62% {
    transform: rotate(36deg) translateY(18px);
  }
  100% {
    transform: rotate(0deg) translateY(8px);
  }
}

.surf-heading .surf-emoji {
  display: inline-block;
  vertical-align: baseline;
}

.surf-heading:hover .surf-emoji {
  animation: rideWaves 555ms infinite;
}

.surf-heading {
  display: inline-block;
  text-decoration: none;
  color: inherit;
}

.surf-heading:hover {
  text-decoration: none;
}

.surf-heading .surf-label {
  display: inline;
  background-repeat: no-repeat;
  background-position: 0 100%;
  padding-bottom: 14px;
  background-image: url("data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 300 20'%3E%3Cdefs%3E%3ClinearGradient id='g' x1='0' y1='0' x2='300' y2='0' gradientUnits='userSpaceOnUse'%3E%3Cstop offset='0' stop-color='%23fb923c'/%3E%3Cstop offset='.5' stop-color='%23facc15'/%3E%3Cstop offset='1' stop-color='%235eead4'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cline x1='0' y1='14' x2='300' y2='14' stroke='url(%23g)' stroke-width='2.5'/%3E%3C/svg%3E");
  background-size: 100% 20px;
}

/* Blog tag links */
.blog-tag {
  font-size: 0.8125rem;
  color: hsl(var(--muted-foreground));
  text-decoration: none;
  transition: color 150ms;
}

.blog-tag:hover {
  color: hsl(var(--foreground));
  text-decoration: underline;
}

/* Mountain link hover animation (footer) */
.mountain-link {
  display: inline-block;
  text-decoration: none;
  color: inherit;
}

.mountain-link:hover {
  text-decoration: none;
}

.mountain-label {
  display: inline;
  background-repeat: no-repeat;
  background-position: 0 100%;
  padding-bottom: 10px;
  background-image: url("data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 300 16'%3E%3Cdefs%3E%3ClinearGradient id='g' x1='0' y1='0' x2='300' y2='0' gradientUnits='userSpaceOnUse'%3E%3Cstop offset='0' stop-color='%23fb923c'/%3E%3Cstop offset='.5' stop-color='%23facc15'/%3E%3Cstop offset='1' stop-color='%235eead4'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cline x1='0' y1='12' x2='300' y2='12' stroke='url(%23g)' stroke-width='2'/%3E%3C/svg%3E");
  background-size: 100% 16px;
}

.mountain-link:hover .mountain-label {
  background-image: url("data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 300 16'%3E%3Cdefs%3E%3ClinearGradient id='g' x1='0' y1='0' x2='600' y2='0' gradientUnits='userSpaceOnUse'%3E%3Cstop offset='0' stop-color='%23fb923c'/%3E%3Cstop offset='.17' stop-color='%23facc15'/%3E%3Cstop offset='.33' stop-color='%235eead4'/%3E%3Cstop offset='.5' stop-color='%23fb923c'/%3E%3Cstop offset='.67' stop-color='%23facc15'/%3E%3Cstop offset='.83' stop-color='%235eead4'/%3E%3Cstop offset='1' stop-color='%23fb923c'/%3E%3CanimateTransform attributeName='gradientTransform' type='translate' from='0' to='-300' dur='3s' repeatCount='indefinite'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cpath fill='none' stroke='url(%23g)' stroke-width='2' stroke-linejoin='round' d='M0,14 L15,12 L35,10 L55,4 L65,8 L80,7 L100,6 L120,6 L140,5 L155,3 L165,5 L175,4 L185,6 L205,1 L220,5 L240,7 L255,4 L270,8 L285,11 L300,13'/%3E%3C/svg%3E");
}

.surf-heading:hover .surf-label {
  background-image: url("data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 300 20'%3E%3Cdefs%3E%3ClinearGradient id='g' x1='0' y1='0' x2='600' y2='0' gradientUnits='userSpaceOnUse'%3E%3Cstop offset='0' stop-color='%23fb923c'/%3E%3Cstop offset='.17' stop-color='%23facc15'/%3E%3Cstop offset='.33' stop-color='%235eead4'/%3E%3Cstop offset='.5' stop-color='%23fb923c'/%3E%3Cstop offset='.67' stop-color='%23facc15'/%3E%3Cstop offset='.83' stop-color='%235eead4'/%3E%3Cstop offset='1' stop-color='%23fb923c'/%3E%3CanimateTransform attributeName='gradientTransform' type='translate' from='0' to='-300' dur='3s' repeatCount='indefinite'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cstyle%3E.w{animation:s .555s linear infinite}@keyframes s{from{transform:translateX(0)}to{transform:translateX(-50px)}}%3C/style%3E%3Cpath fill='none' stroke='url(%23g)' stroke-width='2.5' class='w' d='M-50,14 c12.5,0,12.5,-8,25,-8 s12.5,8,25,8 c12.5,0,12.5,-8,25,-8 s12.5,8,25,8 c12.5,0,12.5,-8,25,-8 s12.5,8,25,8 c12.5,0,12.5,-8,25,-8 s12.5,8,25,8 c12.5,0,12.5,-8,25,-8 s12.5,8,25,8 c12.5,0,12.5,-8,25,-8 s12.5,8,25,8 c12.5,0,12.5,-8,25,-8 s12.5,8,25,8 c12.5,0,12.5,-8,25,-8 s12.5,8,25,8'/%3E%3C/svg%3E");
}
